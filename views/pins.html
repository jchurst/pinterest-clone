
<body>
<nav class="navbar navbar-default">
  <div class="container-fluid"> 
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button>
      <a id="brand" class="navbar-brand" href="/">Spinterest</a></div>
    
    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/">All Images</a></li>
        {{#if user}}
          <li><a href="/pins/{{user._id}}">My Images</a></li>
          <li>
            <a href="#" data-toggle="modal" data-target="#post-pin-modal">
              <span class="fa fa-upload"></span>
              Upload
            </a>
          </li>
          <li>
            <a href="/pins/{{user._id}}">
              {{user.twitter.username}}
            </a>
          </li>
          <li><a href="/logout">Logout</a></li>
          
        {{else}}
          <li>
            <a href="/auth/twitter">
              <span class="fa fa-twitter"></span>
              Login with Twitter
            </a>
          </li>
        {{/if}}
      </ul>
    </div>
    <!-- /.NAVBAR-COLLAPSE --> 
  </div>
  <!-- /.CONTAINER-FLUID --> 
</nav>
<div class="container ">
<div class="row">
<div class="col-lg-12 text-center">
      <h2 align="center">{{pins.length}} Images by {{owner}}
      </h2>
</div>
</div>
</div>
  
<div class="container ">
<div class="row">
<!-- PAGE CONTENT -->
     

{{#if pins}}
  <div class="grid">
    <div class="grid-sizer"></div>
    {{#each pins}}
      <div class="grid-item">
        <div class="panel panel-default relative">
          <div class="panel-body">
            <img src="{{this.url}}" alt="{{this.caption}}" class="img-responsive">
            <p align="center">{{this.caption}}</p>
          </div>
          <div class="panel-footer clearfix">
            {{#if ../isMine}}
              <a href="/pin/remove/{{this._id}}" title="Delete" class="pull-left">
                <span class="sr-only">Delete image</span>
                <span class="fa fa-trash" style="font-size:20px"></span> Delete
              </a>
              <div class="btn btn-default btn-sm pull-right" data-pinid="{{this._id}}">
                <span class="like-count">{{this.likes.length}}</span> &nbsp;<span class="fa fa-thumbs-up" style="color:darkred"></span>
              </div>
            {{else}}
              <div class="pull-left">
                <img src="{{this._user.twitter.thumbnail}}" alt="Pinned by {{this._user.twitter.username}}" class="profile-icon img-responsive">
                <small>Uploaded by<br>{{this._user.twitter.username}}</small>
              </div>
              
              {{#if this.iLike}}
                <button type="button" class="like btn btn-danger btn-sm pull-right" data-pinid="{{this._id}}" data-userid="{{../user._id}}">
                  <span class="like-count">{{this.likes.length}}</span> &nbsp;<span class="fa fa-thumbs-up" style="color:darkred"></span>
                  <span class="sr-only">Unlike image</span>
                </button>
              {{else if ../user}}
                <button type="button" class="like btn btn-default btn-sm pull-right" data-pinid="{{this._id}}" data-userid="{{../user._id}}">
                  <span class="like-count">{{this.likes.length}}</span> &nbsp;<span class="fa fa-thumbs-up" style="color:darkred"></span>
                  <span class="sr-only">Like image</span>
                </button>
              {{else}}
                <div class="btn btn-default btn-sm pull-right" data-pinid="{{this._id}}">
                  <span class="like-count">{{this.likes.length}}</span> &nbsp;<span class="fa fa-thumbs-up" style="color:darkred"></span>
                </div>
              {{/if}}
              
            {{/if}}
          </div>
        </div>
      </div>
    {{/each}}
  </div>
    
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script> 
<!-- Include all compiled plugins (below), or include individual files as needed --> 
<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/masonry/4.2.0/masonry.pkgd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js"></script>
<script src="/layout.js"></script>
<script src="/like.js"></script>
     
{{else}}
  <p class="text-center"><em>No pins have been posted.</em></p>
{{/if}} 
      
    <!-- /PAGE CONTENT -->  
    </div>
  </div>
  <!-- /CONTAINER -->
<div class="well"> </div>

<!-- FOOTER -->

<footer class="text-center">
  <div class="container">
    <div class="row">
      <div class="col-xs-12">
        <p>FreeCodeCamp API - Pinterest Clone</p>
      </div>
    </div>
  </div>
</footer>
<!-- / FOOTER --> 

</body>
</html>
